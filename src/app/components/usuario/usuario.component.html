<app-toast *ngIf="mostrar" [titulo]="titulo" [cuerpo]="cuerpo" [mostrar]="mostrar"
  (ocultarToast)="ocultarToast($event);"></app-toast>
<h2 class="color-texto alinear-texto margin">Usuarios</h2>

<div class="container">
  <div class="row">
    <div class="col-xs-6 col-md-6 col-lg-6 col-xl-6">
      <form #form="ngForm">

      
      <div class="form-group">
        <input type="hidden" name="_id" id="_id" #_id="ngModel"  [(ngModel)]="usuario._id">
        <label for="matricula">Matrícula</label>
        <input type="text" class="form-control form-control-lg" id="matricula" name="matricula" #matricula="ngModel"
          [(ngModel)]="usuario.matricula" required>
      </div>
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" class="form-control form-control-lg" id="nombre" name="nombre" #nombre="ngModel"
          [(ngModel)]="usuario.nombre" required>
      </div>
      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input type="text" class="form-control form-control-lg" id="apellido" name="apellido" #apellido="ngModel"
          [(ngModel)]="usuario.apellido" required>
      </div>
      <!-- <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="text" class="form-control form-control-lg" id="password" name="password" #password="ngModel"
          [(ngModel)]="usuario.password" required>
      </div>

      <div class="form-group">
        <label for="passwordC">Confirmación contraseña</label>
        <input type="text" class="form-control form-control-lg" id="passwordC" name="passwordC" required>
      </div> -->

      <div class="form-group">
        <label for="status">Status</label>
        <select class="form-control form-control-lg" id="status" name="status" #status="ngModel"
        [(ngModel)]="usuario.status" required>
          <option value="Activo">Activo</option>
          <option value="Inactivo">Inactivo</option>
        </select>
        
      </div>
      <br>
      <br>
      <button type="submit" [disabled]="!form.valid" class="btn btn-outline-primary btn-block"  (click)="guardar(form);">Guardar</button>
    </form>
    </div>


    <div class="col-xs-6 col-md-6 col-lg-6 col-xl-6">
     
      <br>
      <table class="table table-bordered">
        <thead>
          <tr >
            <th>Matrícula</th>
            <th>Nombre</th>
            <th>Fecha de registro</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tr *ngFor="let usuario of usuarios" [ngClass]="{'table-danger': usuario.status==='Inactivo', 'table-success': usuario.status==='Activo'}">
          <td>{{usuario.matricula}}</td>
          <td>{{usuario.nombre}} {{usuario.apellido}}</td>
          <td>{{usuario.fecha_registro}}</td>
          <td><button type="button" class="btn btn-warning"><i class="material-icons" (click)="editarUsuario(usuario);">edit</i></button></td>
        </tr>
        <tbody>

        </tbody>
      </table>
    </div>
  </div>
</div>